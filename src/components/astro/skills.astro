---
import { skills } from "../../data/skills";
---

<div class="px-4 py-4 mt-2 relative">
    <div class="absolute -top-20" id="skills"></div>

    <div class="flex flex-col">
        <div class="flex justify-stretch items-center mb-3 ml-4">
            <img
                src="/assets/icons/skills_icon.png"
                loading="eager"
                class="h-12 w-12 object-contain"
            />
            <span class="text-white font-bold text-2xl ml-3">Skills</span>
        </div>
        <div class="grid-container">
            {
                skills.map((skill) => (
                    <div class="skill-item hover:scale-105 hover:shadow-md hover:shadow-white">
                        <img src={skill.image} alt="" />
                        <div class="text-xl text-white showText">
                            {skill.name}
                        </div>
                    </div>
                ))
            }
        </div>
    </div>
</div>
<style>
    .grid-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
        gap: 20px;
        padding: 20px;
    }

    .skill-item {
        border: 2px solid #ccc;
        border-radius: 20px;
        padding: 10px;
        text-align: center;
        display: flex;
        align-items: center;
        width: 100%;
    }

    .skill-item img {
        width: 100%;
        height: 100%;
        margin: 10px;
        border-radius: 20px;
        min-width: 40px;
        min-height: 40px;
        max-width: 80px;
        max-height: 80px;
        object-fit: contain;
    }

    .showText {
        margin-right: 10px;
        text-align: center;
        font-weight: bold;
        overflow: hidden;
        text-overflow: ellipsis;
        flex-grow: 0.4;
    }

    @media screen and (max-width: 551.5px) {
        .showText {
            display: none;
        }
        .grid-container {
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            padding: 10px;
            gap: 5px;
        }

        .skill-item {
            border: 0px;
            padding: 0px;
            justify-content: center;
            margin: 0px;
        }
        .skill-item img {
            margin: 5px;
        }
    }
</style>
<script>
    const skillBox = document.getElementById("skill-carousel");
    const skillBtns = document.querySelectorAll(".skill-item");
    skillBtns.forEach((btn) => {
        btn.addEventListener("click", () => {
            if (skillBox) {
                const visible = skillBox.style.display == "flex";
                if (!visible) {
                    skillBox.style.display = "flex";
                }
            }
        });
    });
</script>
